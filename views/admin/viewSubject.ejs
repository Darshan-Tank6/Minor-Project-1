<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Subjects in Class</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100 p-6">
    <div class="max-w-5xl mx-auto bg-white shadow-md rounded-lg p-6 space-y-6">
      <h1 class="text-2xl font-bold text-gray-800 border-b pb-2">
        Subjects in Class: <%= subjects[0].classId.name %>
      </h1>

      <% subjects.forEach(subject => { %>
      <div class="pt-4">
        <a
          href="/admin/department/<%= subject.classId.departmentId %>/classes"
          class="text-blue-600 hover:underline"
          >‚Üê Back to Classes</a
        >
      </div>
      <div class="border-b pb-4 mb-4">
        <h2 class="text-xl font-semibold text-gray-700"><%= subject.name %></h2>
        <p><span class="font-semibold">Type:</span> <%= subject.type %></p>
        <p>
          <span class="font-semibold">Teaching Professor:</span> <%=
          subject.teachingProfId ? subject.teachingProfId.name : "None" %>
        </p>
        <p>
          <span class="font-semibold">Assistant Professor:</span> <%=
          subject.assistantProfId ? subject.assistantProfId.name : "None" %>
        </p>

        <a
          href="/admin/subjects/<%= subject._id %>"
          class="text-blue-600 hover:underline"
          >+ Add chapters</a
        >

        <% if (subject.schedule && subject.schedule.length > 0) { %>
        <h3 class="font-medium mt-2">Schedule:</h3>
        <ul class="list-disc list-inside text-sm text-gray-700">
          <% subject.schedule.forEach(slot => { %>
          <li>
            <%= slot.day %> | <%= slot.startTime %> - <%= slot.endTime %> |
            Room: <%= slot.room %>
          </li>
          <% }) %>
        </ul>
        <% } else { %>
        <p class="text-sm text-gray-500">No schedule assigned.</p>
        <% } %> <% if (subject.chapters && subject.chapters.length > 0) { %>
        <h3 class="font-medium mt-2">Chapters:</h3>
        <ol class="list-decimal list-inside text-sm text-gray-700">
          <% subject.chapters.forEach(chap => { %>
          <li>
            <strong><%= chap.title %></strong>
            <% if (chap.description) { %> - <%= chap.description %><% } %>
          </li>
          <% }) %>
        </ol>
        <% } else { %>
        <p class="text-sm text-gray-500">No chapters added.</p>
        <% } %>
      </div>
      <% }) %>
    </div>
  </body>
</html>
