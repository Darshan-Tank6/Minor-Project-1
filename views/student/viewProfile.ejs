<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Profile</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="mb-4">Student Profile</h2>

      <% if (student) { %>
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title"><%= student.userId.name %></h5>
          <p class="card-text">
            <strong>Email:</strong> <%= student.userId.email %>
          </p>
          <p class="card-text">
            <strong>Roll Number:</strong> <%= student.rollNumber %>
          </p>
          <p class="card-text">
            <strong>Department:</strong> <%= student.departmentId.name %>
          </p>
          <p class="card-text">
            <strong>Class:</strong> <%= student.classId.name %>
          </p>
          <p class="card-text"><strong>Year:</strong> <%= student.year %></p>
          <p class="card-text">
            <strong>Division:</strong> <%= student.division %>
          </p>
        </div>
      </div>

      <% if (student.classId.subjects && student.classId.subjects.length > 0) {
      %>
      <h4>Subjects</h4>

      <% student.classId.subjects.forEach(subject => { %>
      <div class="card mb-3">
        <div class="card-header">
          <strong><%= subject.name %></strong>
        </div>
        <div class="card-body">
          <% if (subject.teachingProfId) { %>
          <p>
            <strong>Teaching Professor:</strong> <%= subject.teachingProfId.name
            %> (<%= subject.teachingProfId.email %>)
          </p>
          <% } %> <% if (subject.assistantProfId) { %>
          <p>
            <strong>Assistant Professor:</strong> <%=
            subject.assistantProfId.name %> (<%= subject.assistantProfId.email
            %>)
          </p>
          <% } %> <% if (subject.schedule && subject.schedule.length > 0) { %>
          <h6>Schedule</h6>
          <ul class="list-group mb-3">
            <% subject.schedule.forEach(slot => { %>
            <li class="list-group-item">
              <strong><%= slot.day %>:</strong> <%= slot.startTime %> to <%=
              slot.endTime %> in <%= slot.room %>
            </li>
            <% }); %>
          </ul>
          <% } %> <% if (subject.chapters && subject.chapters.length > 0) { %>
          <h6>Chapters</h6>
          <ul class="list-group">
            <% subject.chapters.forEach(chapter => { %>
            <li class="list-group-item">
              <strong
                >Chapter <%= chapter.number %>: <%= chapter.title %></strong
              >
              <% if (chapter.topics && chapter.topics.length > 0) { %>
              <ul>
                <% chapter.topics.forEach(topic => { %>
                <li><%= topic %></li>
                <% }); %>
              </ul>
              <% } %>
            </li>
            <% }); %>
          </ul>
          <% } %>
        </div>
      </div>
      <% }); %> <% } else { %>
      <p>No subjects found for your class.</p>
      <% } %> <% } else { %>
      <div class="alert alert-danger">Student profile not found.</div>
      <% } %>

      <a href="/" class="btn btn-secondary mt-3">Back to Home</a>
    </div>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Profile</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-100">
    <!-- Navbar -->
    <nav class="bg-purple-700 p-3 flex items-center justify-between shadow-md">
      <div class="flex items-center space-x-2">
        <img
          src="/images/logo.jpg"
          class="w-10 h-10 object-cover rounded-lg"
          alt="EduBridge Logo"
        />
        <span class="text-white text-xl font-semibold">EduBridge</span>
      </div>
      <div class="space-x-6">
        <a href="/" class="text-white hover:text-gray-200">Home</a>
        <a href="/about" class="text-white hover:text-gray-200">About Us</a>
        <a href="/contact" class="text-white hover:text-gray-200">Contact</a>
        <a href="/auth/auth/logout" class="hover:text-gray-300">Logout</a>
      </div>
    </nav>
    <!-- Student Profile Section -->
    <div class="max-w-4xl mx-auto mt-8 bg-white p-6 rounded-2xl shadow">
      <h2 class="text-2xl font-bold mb-4 text-center">Student Profile</h2>
      <!-- Profile Card -->
      <div class="bg-gray-50 p-4 rounded-xl shadow mb-6">
        <h3 class="text-lg font-semibold"><%= student.name %></h3>
        <p><strong>Email:</strong> <%= student.email %></p>
        <p>
          <strong>Roll Number:</strong> <%= student.rollno || "Not Available" %>
        </p>
        <p><strong>Department:</strong> <%= student.departmentId.name %></p>
        <p><strong>Class:</strong> <%= student.classId.name %></p>
        <p><strong>Year:</strong> <%= student.year || "Not Available"%></p>
        <p>
          <strong>Division:</strong> <%= student.division || "Not Available"%>
        </p>
      </div>
      <!-- Subjects Section -->
      <h4 class="text-xl font-semibold mb-3">Subjects</h4>
      <% student.classId.subjects.forEach(subject => { %>
      <div class="bg-white border rounded-xl shadow mb-4">
        <div class="bg-gray-100 p-3 font-semibold rounded-t-xl">
          <%= subject.name %>
        </div>
        <div class="p-4">
          <p>
            <strong>Teaching Professor:</strong> <%= subject.teachingProfId.name
            %> (<%= subject.teachingProfId.email %>)
          </p>
          <p>
            <strong>Assistant Professor:</strong> <%=
            subject.assistantProfId.name %> (<%= subject.assistantProfId.email
            %>)
          </p>
          <h6 class="mt-3 font-medium">Schedule</h6>
          <ul class="list-disc ml-6 mb-3">
            <% subject.schedule.forEach(sch => { %>
            <li>
              <strong><%= sch.day %>:</strong> <%= sch.startTime %> - <%=
              sch.endTime %> (<%= sch.room %>)
            </li>
            <% }); %>
          </ul>
          <% if (subject.chapters && subject.chapters.length > 0) { %>
          <h6 class="font-medium">Chapters</h6>
          <ul class="list-disc ml-6">
            <% subject.chapters.forEach(chapter => { %>
            <li>
              <strong><%= chapter.number %> : <%= chapter.title %></strong>
              <!-- <ul class="list-disc ml-6">
                <% chapter.topics.forEach(topic => { %>
                <li><%= topic %></li>
                <% }) %>
              </ul> -->
              <% if (chapter.topics && chapter.topics.length > 0) { %>
              <ul class="list-disc ml-6">
                <% chapter.topics.forEach(topic => { %>
                <li><%= topic %></li>
                <% }); %>
              </ul>
              <% } %>
            </li>
            <% }) %>
          </ul>
          <% } %>
        </div>
      </div>
      <% }) %>
      <!-- <a
        href="/"
        class="inline-block mt-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
      >
        Back to Home
      </a> -->
    </div>
  </body>
</html>
